(()=>{"use strict";const e=function(e,t){return{title:e,tasks:t}},t=function(e,t,n){return{title:e,due:t,priority:n}},n=[e("Default Project",[t("Finish to do list","today","high"),t("Eat dinner","today","medium")]),e("Tommorow",[t("Read the next articles","monday","medium")])];function d(){const e=document.getElementById("project-tabs");e.innerHTML="",n.forEach((function(t){let n=document.createElement("div");e.appendChild(n);let d=document.createElement("button");d.classList.add("project-name-select"),d.textContent="- "+t.title,n.appendChild(d),d.addEventListener("click",(()=>{o(t)}))}))}const l=document.getElementById("new-project-button"),i=document.getElementById("popup-form"),a=document.getElementById("new-project-name"),s=document.getElementById("new-project-x");function o(e){const n=document.getElementById("current-tasks");n.innerHTML="",function(e){const n=document.getElementById("new-task");n.innerHTML="";let d=document.createElement("h3");d.textContent="Add a new task",n.appendChild(d);let l=document.createElement("div");l.setAttribute("id","form-controls-2"),n.appendChild(l);let i=document.createElement("div");l.appendChild(i);let a=document.createElement("label");a.setAttribute("for","priority"),a.textContent="Task Priority:",i.appendChild(a);let s=document.createElement("select");s.setAttribute("id","priority"),s.setAttribute("form","new-task-form"),i.appendChild(s);let c=document.createElement("option");c.setAttribute("value","low"),c.textContent="Low";let u=document.createElement("option");u.setAttribute("value","medium"),u.textContent="Medium";let r=document.createElement("option");r.setAttribute("value","high"),r.textContent="High",s.appendChild(c),s.appendChild(u),s.appendChild(r);let m=document.createElement("div");l.appendChild(m);let p=document.createElement("label");p.setAttribute("for","date"),p.textContent="Due date:",m.appendChild(p);let h=document.createElement("input");h.setAttribute("type","date"),h.setAttribute("form","new-task-input"),h.setAttribute("id","date"),m.appendChild(h);let b=document.createElement("form");b.setAttribute("id","new-task-form"),n.appendChild(b);let E=document.createElement("input");E.setAttribute("type","text"),E.setAttribute("id","new-task-input"),E.setAttribute("placeholder","What do you have planned?"),b.appendChild(E);let v=document.createElement("input");v.setAttribute("type","submit"),v.setAttribute("id","new-task-submit"),v.setAttribute("value","Add task"),b.appendChild(v),b.addEventListener("submit",(n=>{n.preventDefault();let d=t(E.value,h.value,s.value);e.tasks.unshift(d),o(e),console.log(E.value,h.value,s.value)}))}(e);let d=e.tasks;if(0==d.length){let e=document.createElement("img");e.setAttribute("src","images/bee-sleep.png"),e.classList.add("bee-img");let t=document.createElement("h3");t.textContent="This project currently has no tasks.",n.appendChild(t),n.appendChild(e)}else document.getElementById("project-title").textContent=e.title,d.forEach((function(t){let d=document.createElement("input");d.setAttribute("type","date"),d.readOnly=!0,d.setAttribute("value",t.due),d.setAttribute("readonly","true"),d.classList.add("dueDate"),n.appendChild(d);let l=document.createElement("div");l.classList.add("task"),n.appendChild(l);let i=document.createElement("span");i.classList.add("dot"),i.classList.add(t.priority),l.appendChild(i);let a=document.createElement("input");a.setAttribute("type","text"),a.classList.add("text"),a.setAttribute("value",t.title),a.setAttribute("readonly",!0),l.appendChild(a);let s=document.createElement("div");s.classList.add("task-actions"),l.appendChild(s);let c=document.createElement("button");c.classList.add("edit"),c.innerHTML='<span class="material-symbols-outlined">edit</span>',c.addEventListener("click",(()=>{a.removeAttribute("readonly"),a.setAttribute("value",""),d.readOnly=!1,a.focus();let n=document.createElement("button");n.classList.add("save"),n.innerHTML='<span class="material-symbols-outlined">save</span>',s.appendChild(n),c.classList.toggle("hidden"),n.addEventListener("click",(()=>{c.classList.toggle("hidden"),n.classList.add("hidden"),a.setAttribute("readonly",!0),d.readOnly=!0,function(e,t,n,d){e[e.indexOf(t)].title=n,e[e.indexOf(t)].due=d,console.log("task edited"),console.log(t)}(e.tasks,t,a.value,d.value)}))}));let u=document.createElement("button");u.innerHTML='<span class="material-symbols-outlined">delete</span>',u.classList.add("delete"),u.addEventListener("click",(()=>{!function(e,t){console.log(e),console.log(t),e.splice(e.indexOf(t),1)}(e.tasks,t),o(e)})),s.appendChild(u),s.appendChild(c)}))}i.addEventListener("submit",(t=>{t.preventDefault(),n.unshift(e(a.value,[])),i.classList.remove("nothidden"),d()})),s.addEventListener("click",(()=>{i.classList.remove("nothidden")})),l.addEventListener("click",(()=>{i.classList.add("nothidden")})),d()})();